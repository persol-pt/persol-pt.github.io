<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on PPT Developers&#39; Blog</title>
    <link>https://persol-pt.github.io/posts/</link>
    <description>Recent content in Posts on PPT Developers&#39; Blog</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja-jp</language>
    <lastBuildDate>Fri, 15 Dec 2017 17:16:57 +0900</lastBuildDate>
    
	<atom:link href="https://persol-pt.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>GCP Meets Kotlin</title>
      <link>https://persol-pt.github.io/posts/gcp-meets-kotlin/</link>
      <pubDate>Fri, 15 Dec 2017 17:16:57 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/gcp-meets-kotlin/</guid>
      <description>この記事は Google Cloud Platform Advent Calendar 2017 の15日目の記事です。 
はじめに 今年盛り上がったプログラミング言語の一つがKotlinであるというのは衆目の一致するところだと思います。 Google I/OでAndoridアプリ開発の公式言語としてサポートされることが発表されたのを始め、様々なニュースが話題になっていました。  Kotlinの特徴を簡単にいうと、
 JVM上で動作するプログラミング言語 Javaとの100%互換 Null安全、型安全  となります。  最近ではサーバサイドのプログラミング言語としても注目され採用事例も増えて来ています(弊社でも採用を検討しています)  特徴であげた「Javaとの100%互換」があるため、Javaを使うGoogle Cloud Platformの各種サービスでもKotlinで実装することが出来ます。 その実装例を書いていきたいと思います。 
Google App Engine [Standard enviroment] コード   GAE StandardはGoogleが用意した専用コンテナで動作します。使用できる言語が限られていたり制約は多いのですが、その分開発や運用が楽です。 どのフレームワークでも多分問題なく動作するとは思いますが、今回はSprinngBoot(2.0.0.M7)で作りました。 
プログラムソース  メインクラス  warで実行するためにSpringBootServletInitializerクラスを継承し、configureメソッドをオーバーライドします。
@SpringBootApplication class Application : SpringBootServletInitializer() { @Bean fun cloudDatastoreService(): DatastoreService{ return DatastoreServiceFactory.getDatastoreService() } override fun configure(builder: SpringApplicationBuilder): SpringApplicationBuilder { return builder.sources(Application::class.java) } } fun main(args: Array&amp;lt;String&amp;gt;) { runApplication&amp;lt;Application&amp;gt;(*args) }   Datastoreへのアクセス  Datastoreに接続するには「Google Cloud Java Client」かappengine API」があります。 Standardの場合は「Google Cloud Java Client」を利用するとローカル環境で実行した際に</description>
    </item>
    
    <item>
      <title>おじさんLINEごっこBOTを作ってみた</title>
      <link>https://persol-pt.github.io/posts/line-ojisan-bot/</link>
      <pubDate>Fri, 15 Dec 2017 16:10:08 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/line-ojisan-bot/</guid>
      <description>かなり遅れてしまいましたが、今回はボット (Bot) Advent Calendar 2017の10日目の記事を書きます。

突然ですが、みなさん「 おじさんLINEごっこ 」という遊びをご存知ですか？ 最近若い女子同士で流行っているこの遊びですが、今時のSNSにありそうな「おじさんの文章」を真似しながら送り合うというものです。
まず特徴としては以下が挙げられます：
 長い 句読点が多い 無駄に褒めたがる 名前は基本的にちゃん(チャン)付け ちょくちょく自分語りを挟んでくる 隠しきれない下心  
結構エグい感じがしますね。
ではこの情報を元にそれに近いLINEおじさんBOTを作ってみようと思います。
用意するものはこちらです：
 LINE Developersアカウント Dialogflowアカウント  構成はシンプルにこんな感じにしています。
 LINEおじさんBOT構成図   
↑の流れをざっくり説明すると：

①LINEおじさんアカウントに投げたメッセージを

②Lambdaで受け取って

③そのメッセージをdialogflowに投げて

④dialogflowから返ってきた返答を

⑤そのままLINEに返す

Lambdaで実装したいので、serverless frameworkでデプロイをちゃちゃっとできるようにしておきました。
まずは構成定義用のyaml。
# serverless.yml service: name: line-ojisan provider: name: aws runtime: nodejs6.10 stage: dev region: ap-northeast-1 custom: region: ${self:provider.region} prefix: ${self:service}-${self:provider.stage} config: ${self:custom.</description>
    </item>
    
    <item>
      <title>Back_to_swift</title>
      <link>https://persol-pt.github.io/posts/back_to_swift/</link>
      <pubDate>Mon, 11 Dec 2017 15:43:02 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/back_to_swift/</guid>
      <description> 出戻り Swift 
先日、昔（個人事業主をしてた時に）作ったiOSアプリがストアから消えてるんですけど
というような連絡を受けました。
何年も前に作りぱなしにしてたので、iOS11リリース頃に消されています。
最近iOSアプリ開発をしていなかったので、この機会にSwiftでアプリを作ってみます。
とりあえず、遊びで作った15パズルをSwiftで作り直します。
昔の素材を引っ張り出すのが面倒なので、１からつくります。
1.素材の準備 
1〜15の数字が書かれた正方形の画像をサイズ違いで３枚毎。（270x270 / 180x180 / 90x90）
2.Swiftの書き方を復習 
Swift初心者なので、とりあえずオプショナル型の使い方をググる
どこよりも分かりやすいSwiftの&amp;rdquo;?&amp;ldquo;と&amp;rdquo;!&amp;rdquo;
ここがわかり易かったです。
var / letの違い
メソッドの書き方
このくらいを調べる
3.Xcodeでプロジェクト作成 
Xcodeを開いてアプリ開発開始　XcodeからSingle View Appのプロジェクトで新規作成
ストーリーボードを開いて、360x360のビューを配置
その上に90x90のボタンを左上から15個並べる。(右下が1個分空く)
作った素材（1〜15の画像）をプロジェクトに登録
ボタンに画像を設定
ボタンに画像を指定してもうまく読み込まれない？実機で動かすと画像が表示されない。
Assetsに画像を登録してやるとうまく言ったので、それでよしとする。
ボタンの動きを作成（押された時に空きスペースが上下左右にあれば移動）
移動が終わったら全てのボタンが正しく並んでいるか判断。並んでいれば終了
シャッフルボタンを作成して、並びをぐちゃぐちゃにする動きを追加
タイマーを追加してシャッフルボタンが押されてから並びが正しくなるまで
タイマー表示する機能を追加
終わったらComplete画面を表示。ベストタイムを保持。
だいたいこんな感じで動くものができました。 4.Swiftで作ってとまどったところ 
オプショナル型のところ
Viewアニメーションの書き方
UIColorとか指定方法が変わった箇所
5.アプリの申請 
アプリの申請手順をかなり忘れていて、少し手こずりました。
それはまた別の機会に。 </description>
    </item>
    
    <item>
      <title>react-sketchappを使った開発ワークフロー</title>
      <link>https://persol-pt.github.io/posts/react-sketchapp/</link>
      <pubDate>Sun, 10 Dec 2017 23:10:32 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/react-sketchapp/</guid>
      <description>React #1 Advent Calendar 2017 10 日目の記事です。

react-sketchapp react-sketchappとは、デザインツールの Sketch 用にビルドできる React コンポーネントです。
README からの引用ですが、こんな概要です。
 デザインシステムの管理 - react-sketchapp は、Airbnb’s design system用に作られました。大規模なデザインシステムで Sketch のアセットを管理する最も簡単な方法です。 デザインに実際のコンポーネントを使用 - コードで React コンポーネントとして実装し、Sketch に描画します。 実際のデータを使用したデザイン - データを使用したデザインは重要ですが困難です。 react-sketchapp は Sketch ファイルに実際のデータを取得して埋め込むのを簡単にします。 Sketch 上に新しいツールを作る - Sketch をカスタムデザインツールのキャンバスとして使用する最も簡単な方法  実際に使用した画面の雰囲気はPainting with Codeをご覧ください。

react-sketchapp を導入するメリット 一般的にプロダクトの開発ワークフローは、例えばデザイナーからデザインファイルを受け取り、プログラマーがシステムに組み込む、という感じになりますが、そこで react-sketchapp を使ってデザイナー側で React コンポーネントを実装してもらえると、プログラマーは HOC などを利用してロジックを被せるように作っていけば、デザイナーにデザインの修正や改善を直接プロダクトコードに反映してもらえるようになって、手間やミスを削減できます。

デザイナーからすると React コンポーネントを作るというとハードルが高そうに聞こえるかもしれませんが、ステートレスコンポーネントなら HTML に結構似ているので、マークアップできる方であれば学習コストはそれほどない（と思っています）。

はじめてみる はじめるにあたり以下の環境が必要です。
 node.js 4+ ( 筆者は 8.</description>
    </item>
    
    <item>
      <title>Node.jsでHTTP/2を動かしてみる</title>
      <link>https://persol-pt.github.io/posts/using-http2-with-nodejs/</link>
      <pubDate>Sat, 09 Dec 2017 04:22:57 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/using-http2-with-nodejs/</guid>
      <description>どうも、ビトルです。
今回はNode.js Advent Calendar 2017の9日目の記事になります。

この記事ではNode.jsで現在コア機能に実験的に導入されているHTTP/2について書きたいと思います。

Serverside 
単純なHTTPサーバとしての処理はこんな感じに実装できます。

const http2 = require(&#39;http2&#39;); const fs = require(&#39;fs&#39;); const server = http2.createSecureServer({ key: fs.readFileSync(&#39;localhost-privkey.pem&#39;), cert: fs.readFileSync(&#39;localhost-cert.pem&#39;) }); server.on(&#39;error&#39;, (err) =&amp;gt; console.error(err)); server.on(&#39;socketError&#39;, (err) =&amp;gt; console.error(err)); server.on(&#39;stream&#39;, (stream, headers) =&amp;gt; { stream.respond({ &#39;content-type&#39;: &#39;text/html&#39;, &#39;:status&#39;: 200 }); stream.end(&#39;&amp;lt;h1&amp;gt;Hello World&amp;lt;/h1&amp;gt;&#39;); }); server.listen(8080);  ChromeやFirefoxなどのブラウザはHTTP/2を利用する際はSSLが必須となっているので、証明書を用意する必要があります。 証明書は自己証明書でも作成できます。

openssl req -x509 -newkey rsa:2048 -nodes -sha256 -subj &#39;/CN=localhost&#39; \ -keyout localhost-privkey.pem -out localhost-cert.</description>
    </item>
    
    <item>
      <title>Cloud-based WAF(Web Application Firewall) 比較</title>
      <link>https://persol-pt.github.io/posts/waf-comparison/</link>
      <pubDate>Wed, 06 Dec 2017 01:32:59 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/waf-comparison/</guid>
      <description>Security Advent Calendar 2017 6 日目の記事です。

WAF とは XSS や SQL インジェクションなどの HTTP 攻撃を防ぐための Firewall で、
Cloud-based WAF では、リクエストが WAF を通るよう WAF サービスに DNS を向け、安全なリクエストのみオリジンへ通す、という方式をとります。
私は WAF には疎くて、AWS WAF くらいしか知らなかったので、WAF ってのは自分で設定するものなんだろうなぁと思っていたんですが、調べてみたらマネージド WAF サービスって色々あるんですね。

サービス比較するにあたり、海外の WAF 紹介記事調べたり、ガートナーの WAF 市場の図を参考にしました。

 Gartner Magic Quadrant for Web Application Firewalls 2016   
 Gartner Magic Quadrant for Web Application Firewalls 2017   
ということで、市場リーダーの Imperva のIncapsulaと Akamai のクラウド・セキュリティ・ソリューションと F5 Networks のSilverline、そして海外の WAF 紹介記事でよく見かけるCloudflareとSucuri、国産のScutum、AWS を比較してみました。</description>
    </item>
    
    <item>
      <title>静的ファイルWebホスティングならS3よりFirebase Hosting</title>
      <link>https://persol-pt.github.io/posts/firebase-hosting/</link>
      <pubDate>Sun, 03 Dec 2017 03:13:06 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/firebase-hosting/</guid>
      <description>Firebase Advent Calendar 2017 3 日目の記事です。

Firebase Hostingはストレージ、Web ホスティング、CDN 、マネージド SSL を組み込んだサービスです。 AWS ではストレージと Web ホスティングは S3 だけでできますが、CDN は CloudFront、マネージド SSL は Certificate Manager と、複数のサービスを組み合わせ、設定しないといけません。 CDN 性能も、Firebase Hosting で使用されている Google Cloud CDN は CloudFront よりパフォーマンスがいいようです。 比較表 
    Firebase Hosting AWS     構築 1 コマンド S3 を作成。HTTPS や CDN を使うなら CloudFront を作成して S3 と結合   デプロイ 1 コマンド 1 コマンド   SSL 証明書 自動で作成＆更新＆適用 ACM で作成して CloudFront に適用。自動更新   キャッシュ ブラウザキャッシュ設定のみ CDN キャッシュ設定含め柔軟に設定可   アクセス制限 無し WAF を作成して CloudFront に適用   料金（ストア） $0.</description>
    </item>
    
    <item>
      <title>社外発信はじめました</title>
      <link>https://persol-pt.github.io/posts/start-publishing/</link>
      <pubDate>Sun, 12 Nov 2017 16:13:55 +0900</pubDate>
      
      <guid>https://persol-pt.github.io/posts/start-publishing/</guid>
      <description>&lt;p&gt;はじめまして、パーソルプロセス＆テクノロジー株式会社です。みんな PPT と略してます。レガシーなパワポですね。&lt;/p&gt;

&lt;p&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>